query_fun <- new_environment()
es_mapping_type <- new_environment()
aggs_funs <- new_environment()